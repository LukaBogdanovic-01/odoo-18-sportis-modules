<odoo>
  <record id="view_recruitment_form" model="ir.ui.view">
    <field name="name">recruitment.form</field>
    <field name="model">future.recruitment</field>
    <field name="arch" type="xml">
      <form string="Candidate">
        <sheet>

          <!-- Statusbar gore desno -->
          <div class="d-flex justify-content-end mb-2">
            <field name="stage_id" widget="statusbar" options="{'clickable': True}"/>
          </div>

          <!-- Slika gore desno -->
          <div style="float: right; margin: 0 0 10px 10px;">
            <field name="image"
                   widget="image"
                   class="oe_avatar"
                   options="{'preview_image': 'image'}"
                   style="width: 128px; height: 128px; border-radius: 8px;"/>
          </div>

          <!-- Naslov -->
          <div class="oe_title">
            <h1>
              <field name="name" placeholder="Name..." nolabel="1"/>
            </h1>
          </div>

          <!-- Dve kolone -->
          <group col="2">
            <group>
              <field name="position_id"/>
              <field name="contact_id"/>
              <field name="phone"/>
              <field name="email"/>
              <field name="country_id"/>
              <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
              <field name="more_info"/>
            </group>

            <group>
              <field name="sport_id"/>
              <field name="priority" widget="radio" options="{'horizontal': true}"/>
              <field name="file" widget="binary" filename="name"/>
              <field name="create_date" readonly="1"/>
              <!-- <field name="agent_id"/> -->
              <field name="origin_agent_id"/>
              <field name="followup_by"/>
            </group>
          </group>

          <!-- Tabovi -->
          <notebook>
            <page string="Career">
              <field name="career_ids"/>
            </page>
            <page string="Awards">
              <field name="award_ids"/>
            </page>
          </notebook>

          
        </sheet>
        <chatter/>
      </form>
    </field>
  </record>

  <record id="view_recruitment_list" model="ir.ui.view">
    <field name="name">recruitment.list</field>
    <field name="model">future.recruitment</field>
    <field name="arch" type="xml">
      <list string="Candidates">
        <field name="name"/>
        <field name="position_id" optional="show"/>
        <field name="contact_id" optional="show"/>
        <field name="sport_id" optional="show"/>
        <field name="priority" optional="show"/>
        <field name="phone" optional="show"/>
        <field name="email" optional="show"/>
        <field name="country_id" optional="show"/>
        <field name="create_date" optional="show"/>
      </list>
    </field>
  </record>

  <record id="view_future_recruitment_kanban" model="ir.ui.view">
    <field name="name">future.recruitment.kanban</field>
    <field name="model">future.recruitment</field>
    <field name="arch" type="xml">
        <kanban default_group_by="stage_id" class="o_kanban_mobile" default_order="priority desc">
            <field name="name"/>
            <field name="position_id"/>
            <field name="sport_id"/>
            <field name="contact_id"/>
            <field name="country_id"/>
            <field name="priority"/>
            <field name="tag_ids"/>

            <templates>
                <t t-name="card">
                    <div class="oe_kanban_global_click o_kanban_card p-2">

                        <!-- Naziv -->
                        <div>
                            <strong><field name="name"/></strong>
                        </div>

                        <!-- Pozicija + Prioritet -->
                        <div class="mt-2 d-flex justify-content-between align-items-center">
                          <div>
                            <i class="fa fa-briefcase text-muted" title="Position"/>
                            <field name="position_id"/>
                          </div>
                          <div>
                            <field name="priority" widget="priority"/>
                          </div>
                        </div>
                        <!-- Ostali podaci -->
                        <div class="mt-2">
                            <div t-if="record.sport_id.raw_value">
                                <i class="fa fa-futbol-o text-muted" title="Sport"/>
                                <field name="sport_id"/>
                            </div>
                            <div t-if="record.contact_id.raw_value">
                                <i class="fa fa-user text-muted" title="Contact"/>
                                <field name="contact_id"/>
                            </div>
                            <div t-if="record.country_id.raw_value">
                                <i class="fa fa-globe text-muted" title="Country"/>
                                <field name="country_id"/>
                            </div>
                        </div>

                        <!-- TAGOVI -->
                        <div t-if="record.tag_ids.raw_value">
                            <field name="tag_ids" widget="many2many_tags"/>
                        </div>

                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>


  <record id="view_recruitment_calendar" model="ir.ui.view">
      <field name="name">future.recruitment.calendar</field>
      <field name="model">future.recruitment</field>
      <field name="arch" type="xml">
        <calendar string="Recruitments"
                  date_start="interview_date"
                  color="sport_id">
          <field name="name"/>
          <field name="position_id"/>
          <field name="contact_id"/>
        </calendar>
      </field>
  </record>

  <record id="view_future_recruitment_activity" model="ir.ui.view">
      <field name="name">future.recruitment.activity</field>
      <field name="model">future.recruitment</field>
      <field name="arch" type="xml">
          <activity string="Recruitment Activities">
              <field name="name"/>
              <field name="position_id"/>
              <field name="priority"/>
              <field name="stage_id"/>
              <field name="country_id"/>
          </activity>
      </field>
  </record>

  <record id="view_future_recruitment_graph" model="ir.ui.view">
    <field name="name">future.recruitment.graph</field>
    <field name="model">future.recruitment</field>
    <field name="arch" type="xml">
      <graph string="Future Recruitment Analysis" type="bar">
        <field name="priority" type="row"/>
        <field name="country_id" type="col"/>
        <field name="id" type="measure"/>
      </graph>
    </field>
  </record>

  <record id="view_future_recruitment_pivot" model="ir.ui.view">
    <field name="name">future.recruitment.pivot</field>
    <field name="model">future.recruitment</field>
    <field name="arch" type="xml">
      <pivot string="Future Recruitment Analysis">
        <field name="country_id" type="row"/>
        <field name="sport_id" type="col"/>
        <field name="priority" type="col"/>
        <field name="id" type="measure"/>
      </pivot>
    </field>
  </record>




  <record id="action_export_future_recruitments" model="ir.actions.server">
      <field name="name">Export</field>
      <field name="model_id" ref="model_future_recruitment"/>
      <field name="binding_model_id" ref="model_future_recruitment"/>
      <field name="binding_type">action</field>
      <field name="binding_view_types">form</field>
      <field name="state">code</field>
      <field name="code">
          action = env['future.recruitment'].sudo().export_records()
      </field>
  </record>



  <!-- AKCIJA -->
  <record id="action_new_players_acquisition" model="ir.actions.act_window">
    <field name="name">New-players_aquisition</field>
    <field name="res_model">future.recruitment</field>
    <field name="view_mode">kanban,list,form,graph,pivot,calendar,activity</field>
    <field name="help" type="html">
      <p>No candidates yet. Create one!</p>
    </field>
  </record>
</odoo>
